# Գնդի մակերեսը, ծավալը և զանգվածը

Դիտարկենք պողպատե սնամեջ մի գունդ՝ `diameter` տրամագծով և մետաղի `thickness` հաստությամբ։ Պետք է գրել ծրագիր, որը հաշվում է այդ գնդի մակերևույթի _մակերեսը_, խոռոչի _ծավալը_ և դատարկ գնդի _զանգվածը_։

Օգտագործողից պահանջվում է ներմուծման ստանդարտ հոսքից տալ տրամագծի ու մետաղի հաստության արժեքները, իսկ ծրագրում պետք է հաշվել ու արտածման ստանդարտ հոսքին արտածել պահանջվող արդյունքները։

Ինչպես և նախորդ գլխում, ամբողջ ծրագիրը գրելու ենք `main()` ֆունկցիայում։

```C++
int main()
{
  // ... 
}
```

Հաշվարկների միջանկյալ արժեքները պահելու համար ծրագրավորման լեզուներում օգտագործում են _փոփոխականի_ գաղափարը։ Այն մի _օբյեկտ_ է, որը ծրագրի կատարման ընթացքի տարբեր պահերին կարող է ընդունել տարբեր արժեքներ։ Ծրագրի տեքստում փոփոխականը սահմանվում է իր _տիպն_ ու _անունը_ նշելով։ Օրինակ, տրամագծի արժեքը պահելու համար կարող ենք սահմանել․

```C++
double diameter = 0.0;  // տրամագիծ
```

Այստեղ `double`֊ը տիպն է, որը նշանակում է _կրկնակի ճշտության իրական թիվ_, `diameter`֊ը փոփոխականի անունն է, իսկ `0.0`֊ն՝ սկզբնական արժեքն է։ 

Ծրագրի կատարման ժամանակ յուրաքանչյուր փոփոխականի հատկացվում է հիշողության մի որոշակի հատված։ Այդ հատվածի չափը որոշվում է փոփոխականի տիպով։ Օրինակ, սովորաբար `double` տիպին հատկացվում է 8 բայթ (4 բայթ՝ 32 բիթանոց ճարտարապետությունների դեպքում)։ Փոփոխականին հատկացված հիշողության տիրույթի առաջին բայթի համարը կոչվում է փոփոխականի (օբյեկտի) _հասցե_։ Օրինակ, ենթադրենք, թե մեր ծրագրում սահմանված են `diameter` իրական և `count` ամբողջաթիվ փոփոխականները․

```C++
double diameter = 0.0;
int count = 0;
```

Հիշողության մեջ դրանց տեղավորման հնարավոր տարբերակ կարող է լինել հետևյալը․

![նկար]()

Այսինքն՝ կատարման ժամանակ `diameter`֊ին հատկացվել է 1000֊րդ բայթից սկսվող ութ բայթանոց տիրույթը, իսկ `coount`֊ին՝ 2000֊րդ բայթից սկսվող չորս բայթանոց տիրույթը։

C++ լեզուն թույլ է տալիս `&` միտեղանի նախածանցային գործողությամբ ստանալ փոփոխականի հասցեն։ Օրինակ, `count`֊ի հասցեն կարող ենք արտածել հետևյալ արտահայտությամբ․

```C++
std::cout << &count << std::endl;
```

հասցեի համար նույնպես կարելի է փոփոխական սահմանել։ Պարզապես պետք է համապատասխան տիպի անունից հետո գրել `*` (աստղանիշ) նշանը։ Օրինակ, հետևյալ հրամանով․

```C++
int* count_p = &count;
```

սահմանվում է `int` տիպի օբյեկտի հասցե պարունակող `count_p` փոփոխականը և այն արժեքավորվում է `count`֊ի հասցեն։ Հասցեի արժեք պահելու համար նախատեսված փոփոխականը կոչվում է _ցուցիչ_ (pointer)։ Եթե հարկավոր է նշել, որ ցուցիչը ոչ մի փոփոխականի ցույց չի տալիս, ապա դրան վերագրում ենք `nullptr` համապիտանի արժեքը։

Մեր ծրագիրը պետք է օգտագործողին առաջարկի ներմուծել գնդի տրամագծի արժեքը, ապա ներմուծման ստանդարտ հոսքից `diameter` փոփոխականի մեջ կարդա ներմուծված արժեքը։ Այսպես․

```C++
std::cout << "Գնդի տրամագիծը (մ). ";
double diameter = 0.0;
std::cin >> diameter;
```

Առաջին տողով արտածվում է ներմուծման հրավերքը, երկրորդ տողում սահմանված է `0.0`֊ով սկզբնարժեքավորված `diameter` փոփոխականը, իսկ երրորդ տողում `diameter`֊ի՝ ներմուծման հոսքից կարդալու արտահայտությունն է։ Նկատենք, որ `std::cin >> ...` արտահայտությունը սիմետրիկ է `std::cout << ...` արտահայտությանը։ Երկու դեպքերում էլ `<<` (կամ `>>`) գործողությունը ցույց է տալիս տվյալների «շարժման ուղղությունը»։ Եթե արտածման դեպքում տվյալներն ուղղվում են դեպի `std::cout` օբյեկտով որոշվող արտածման հոսքին, ապա ներմուծման դեպքում տվյալները `std::cin` օբյեկտով որոշվող ներմուծման հոսքից ուղղվում են դեպի համապատասխան փոփոխականը։

Ճիշտ նույն կերպ կազմակերպում ենք նաև պատի հաստության արժեքի ներմուծումը․

```C++
cout << "Գնդի պատի հաստությունը (մ). ";
double thickness = 0.0;
cin >> thickness;
```

Գնդի մակերևույթի մակերեսը հաշվելու համար օգտագործելու ենք հայտնի բանաձևը․

S = 4πr²

որտեղ `r`֊ը գնդի շառավիղն է, իսկ π֊ն՝ հայտնի մաթեմատիկական հաստատունը։

Շառավիղը տրամագծի կեսն է։ Հաշվենք այն ու վերագրենք `radius`֊ին․

```C++
const auto radius = diameter / 2;
```

`const` բառը ցույց է տալիս, որ `radius`֊ը սահմանված է որպես հաստատուն և նրան տրված սկզբնական արժեքը ծրագրի կատարման ընթացքում չի փոխվելու։

Տիպի փոխարեն գրված `auto` բառը C++ լեզվի կոմպիլյատորից «պահանջում» է ինքնուրույն դուրս բերել `radius`֊ի տիպը՝ հիմնվելով դրան տրված արժեքին։ Տվյալ դեպքում, քանի որ `diameter`֊ի տիպը `double` է, բաժանման արդյունքը նույնպես կստացվի `double`, հետևաբար `radius`֊ի տիպը դուրս է բերվում նորից որպես `double`։ 

Մակերեսը հաշվելու բանաձևում մասնակցող π մեծության արժեքն էլ կարելի է սահմանել որպես հաստատուն․

```C++
const double PI = 3.14159;
```

Սակայն ավելի ճիշտ է օգտագործել C++ լեզվի C++20 ստանդարտում սահմանված արժեքը։ Այն `<numbers>` գրադարանից հասանելի է `std::numbers::pi` անունով։

Վերջապես հաշվենք ու արտածենք պահանջվող արժեքը․

```C++
const auto surface_area = 4 * pi * radius * radius;
std::cout << "Գնդի մակերևույթի մակերեսը (մ²). "
          << surface_area << std::endl;
```

Այստեղ տվյալների արտածումը կազմակերպված է `<<` գործողություններով իրար կապված շղթայի տեսքով։ Նախ՝ `std::cout`֊ին է ուղղարկվում «`Գնդի մակերևույթի մակերեսը (մ²). `» տողը, ապա՝ `surface_area` փոփոխականի արժեքը, և վերջում՝ `std::endl` _մանիպուլյատորը_։ Վերջինս արտածման հոսքի վերջից ավելացնում է նոր տողի անցման նիշը։

Հաջորդը պետք է հաշվենք գնդի խոռոչի ծավալը՝ նորից կիրառելով հայտնի բանաձևը․

S = (4πr³)/3

Դրա համար նախ հաշվենք խոռոչի շառավիղը՝ գնդի շառավղից հանելով պատի հաստությունը․

```C++
const auto inner_radius = radius - thickness;
```

```C++
const auto inner_volume = (4 * pi * inner_radius * inner_radius * inner_radius) / 3;
std::cout << "Գնդի խոռոչի ծավալը (մ³). " << inner_volume << std::endl;
```
